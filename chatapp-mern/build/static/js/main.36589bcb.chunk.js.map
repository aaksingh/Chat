{"version":3,"sources":["Components/Js/axios.js","StateProvider.js","Components/Js/Chat.js","Components/Js/SidebarChat.js","Components/Js/Sidebar.js","reducer.js","Components/Firebase/firebase.js","Components/Js/Login.js","App.js","reportWebVitals.js","index.js"],"names":["instance","axios","create","baseURL","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Chat","messages","useState","input","setinput","user","sendMessage","e","a","preventDefault","post","message","name","displayName","timestamp","received","className","Avatar","IconButton","SearchOutlined","map","onChange","target","placeholder","type","onClick","SidebarChat","Sidebar","src","actionTypes","state","action","console","log","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","GoogleAuthProvider","Login","dispatch","Button","signInWithPopup","then","result","catch","error","alert","App","setMessages","useEffect","get","response","data","channel","Pusher","cluster","subscribe","bind","newMessage","unbind_all","unsubscribe","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36589bcb.chunk.js","sourcesContent":["import axios from \"axios\"\nconst instance = axios.create({\n    baseURL:\"https://chatappinmern.herokuapp.com\",\n});\n\nexport default instance","import React, {createContext, useContext, useReducer} from \"react\"\nexport const StateContext = createContext()\nexport const StateProvider = ({reducer, initialState, children})=>(\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n{children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () =>useContext(StateContext)","import React, { useState } from \"react\";\r\nimport \"../Css/Chat.css\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\nimport axios from \"./axios.js\"\r\nimport { useStateValue } from \"../../StateProvider\";\r\nfunction Chat({messages}) {\r\n  const [input, setinput] = useState(\"\")\r\n  const  [{user}] = useStateValue()\r\n \r\n  const sendMessage= async (e)=>{\r\n    e.preventDefault();\r\n    await axios.post('messages/new',{\r\n      message:input,\r\n      name:user?.displayName,\r\n      timestamp:\"5:55\",\r\n      received:false,\r\n\r\n    })\r\n    setinput(\"\")\r\n  }   \r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chat__header\">\r\n        <Avatar />\r\n        <div className=\"chat__headerInfo\">\r\n          <h3>Room name</h3>\r\n          <p>Last Seen at...</p>\r\n        </div>\r\n        <div className=\"chat__headerRight\">\r\n          <IconButton>\r\n            <SearchOutlined />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className=\"chat__body\">\r\n        {\r\n          messages.map(message => (\r\n            <p className={`chat__message ${message.received && \"chat__reciever\"}`}>\r\n          <span className=\"chat__name\">{message.name}</span>\r\n          {message.message}\r\n          <span className=\"chat__timestamp\">{message.timestamp}</span>\r\n        </p>\r\n\r\n          ))\r\n        }\r\n        \r\n       </div>\r\n      <div className=\"chat__footer\">\r\n        <form>\r\n          <input value={input} onChange={(e)=>setinput(e.target.value)} placeholder=\"Type a Message\" type=\"text\" />\r\n          <button onClick={sendMessage} type=\"submit\">Send</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from 'react'\r\nimport '../Css/SidebarChat.css'\r\nimport {Avatar} from \"@material-ui/core\"\r\nfunction SidebarChat() {\r\n    return (\r\n        <div className=\"sidebarchat\">\r\n            <Avatar/>\r\n            <div className=\"sidebarchat__info\">\r\n                <h2>Room name</h2>\r\n                <p>This is the last message</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarChat\r\n","import React from \"react\";\r\nimport SidebarChat from \"./SidebarChat.js\"\r\nimport \"../Css/Sidebar.css\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport {Avatar, IconButton} from \"@material-ui/core\"\r\nimport {SearchOutlined} from \"@material-ui/icons\"\r\nfunction Sidebar() {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__header\">\r\n          <Avatar src=\"\"/>\r\n        <div className=\"sidebar__headerright\">\r\n          <IconButton>\r\n            <ChatIcon />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className=\"sidebar__search\">\r\n          <div className=\"sidebar__searchContainer\">\r\n               <SearchOutlined/>\r\n               <input placeholder=\"search\" type=\"text\"></input>\r\n          </div>\r\n\r\n      </div>\r\n      <div className=\"sidebar__chat\">\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n          <SidebarChat/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","export const initialState ={\n    user:null,\n};\n\nexport const actionTypes = {\n    SET_USER : \"SET_USER\",\n    \n}\n\n\nconst reducer = (state, action) =>{\n    console.log(action)\n    switch(action.type){\n        case actionTypes.SET_USER:\n            return{\n                ...state,\n                user:action.user\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import firebase from 'firebase'\r\nconst firebaseConfig = {\r\n\r\n    apiKey: \"AIzaSyBeWeG1q3m4KkYShXdHgCiSgKTQxLEGuf4\",\r\n    authDomain: \"chatapp-aaksingh.firebaseapp.com\",\r\n    projectId: \"chatapp-aaksingh\",\r\n    storageBucket: \"chatapp-aaksingh.appspot.com\",\r\n    messagingSenderId: \"585405396806\",\r\n    appId: \"1:585405396806:web:aa89d5756ec65733e19747\",\r\n    measurementId: \"G-CMBPGTQY5Q\"\r\n  };\r\n\r\n\r\n  //Authentication and Hosting\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig)\r\n  const auth = firebase.auth()\r\nconst provider = new firebase.auth.GoogleAuthProvider()\r\n\r\nexport { auth, provider }\r\n\r\n","import React from 'react'\nimport \"../Css/Login.css\";\nimport { Button } from \"@material-ui/core\"\n\nimport {actionTypes} from \"../../reducer\"\nimport {useStateValue} from \"../../StateProvider.js\"\nimport {auth, provider} from \"../Firebase/firebase.js\"\n\nfunction Login() {\n    const [state, dispatch] = useStateValue();\n\n    const signIn = ()=>{\n          auth.signInWithPopup(provider).then(result=>{\n              console.log(result)\n              dispatch({\n                   type:actionTypes.SET_USER,    \n                   user: result.user,\n              })\n              \n          }).catch((error)=>{\n              alert(error.message)\n          })                  \n    }\n    return (\n        <div className=\"login\">\n            <div className=\"login__container\">\n            <Button onClick={signIn}>\n                Sigin With Google\n            </Button>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n","import \"./App.css\";\nimport Chat from \"./Components/Js/Chat.js\";\nimport {useEffect, useState} from 'react'\nimport Sidebar from \"./Components/Js/Sidebar.js\";\nimport Pusher from 'pusher-js'\nimport axios from \"./Components/Js/axios.js\"\nimport Login from \"./Components/Js/Login.js\"\nimport {useStateValue} from \"./StateProvider\"\nfunction App() {\n  \n \n  const [{user}, dispatch] = useStateValue();\n    const [message, setMessages] = useState([]);\n\n  useEffect(()=>{ \n   axios.get(\"/messages/sync\").then((response)=>{\n     console.log(\"here\")\n    setMessages(response.data)\n   });\n\n  }, [])\n  \n  useEffect(() => {\n    var pusher = new Pusher('f4795fbbb47df9e292a1', {\n      cluster: 'ap2',\n    });\n    \n\n    const channel = pusher.subscribe('messages');\n    channel.bind('inserted', (newMessage) =>{\n      //alert(JSON.stringify(data));\n      setMessages([...message,newMessage])\n    });\n    return ()=>{\n      channel.unbind_all();\n      channel.unsubscribe();\n    }\n  }, [message])\n  \n  console.log(user)\n\n  return (\n    <div className=\"app\">\n      {!user ?(<Login/>):(\n        <>\n      <div className=\"app__body\">\n       <Sidebar/>\n       <Chat messages={message}/> \n      </div>\n      </>\n      )}\n    </div>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {StateProvider} from \"./StateProvider\"\nimport reducer, { initialState } from './reducer';\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState = {initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}